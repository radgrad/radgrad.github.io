(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{136:function(e,t,o){"use strict";o.r(t),o.d(t,"frontMatter",(function(){return i})),o.d(t,"metadata",(function(){return l})),o.d(t,"rightToc",(function(){return c})),o.d(t,"default",(function(){return p}));var n=o(1),r=o(6),a=(o(0),o(172)),i={title:"Google Cloud",sidebar_label:"Google Cloud"},l={id:"devops/deployment/google-cloud",title:"Google Cloud",description:"## Deployment Documentation",source:"@site/docs/devops/deployment/google-cloud.md",permalink:"/docs/devops/deployment/google-cloud",sidebar_label:"Google Cloud",sidebar:"someSidebar",previous:{title:"Digital Ocean",permalink:"/docs/devops/deployment/digital-ocean"},next:{title:"Microsoft Azure",permalink:"/docs/devops/deployment/microsoft-azure"}},c=[{value:"Deployment Documentation",id:"deployment-documentation",children:[]},{value:"Evaluation",id:"evaluation",children:[]}],s={rightToc:c};function p(e){var t=e.components,o=Object(r.a)(e,["components"]);return Object(a.b)("wrapper",Object(n.a)({},s,o,{components:t,mdxType:"MDXLayout"}),Object(a.b)("h2",{id:"deployment-documentation"},"Deployment Documentation"),Object(a.b)("h6",{id:"note-this-was-done-on-a-windows-10-system-using-windows-subsystem-for-linux-2-wsl-2"},"Note: This was done on a Windows 10 System using Windows Subsystem for Linux 2 (WSL 2)"),Object(a.b)("h4",{id:"installation"},"Installation"),Object(a.b)("p",null,"Open up Windows Powershell as administrator and use ",Object(a.b)("inlineCode",{parentName:"p"},"npm install meteor-google-cloud -g"),"."),Object(a.b)("h4",{id:"google-cloud-cli"},"Google Cloud CLI"),Object(a.b)("p",null,"Login in to your google account. On the cloud console, go to the cloud selector page, and create a new project. Ensure billing is enabled."),Object(a.b)("p",null,"(Image to be added)"),Object(a.b)("p",null,"On your terminal (not Powershell), use ",Object(a.b)("inlineCode",{parentName:"p"},"sudo apt-get install apt-transport-https ca-certificates gnupg")," to install apt-transport-https. Use ",Object(a.b)("inlineCode",{parentName:"p"},'echo "deb [signed-by=/usr/share/keyrings/cloud.google.gpg] https://packages.cloud.google.com/apt cloud-sdk main" | sudo tee -a /etc/apt/sources.list.d/google-cloud-sdk.list')," to add the cloud SDK distribution."),Object(a.b)("p",null,"Import the public key with ",Object(a.b)("inlineCode",{parentName:"p"},"curl https://packages.cloud.google.com/apt/doc/apt-key.gpg | sudo apt-key --keyring /usr/share/keyrings/cloud.google.gpg add -")),Object(a.b)("p",null,"Update the SDK with ",Object(a.b)("inlineCode",{parentName:"p"},"sudo apt-get update")),Object(a.b)("p",null,"Install the SDK with ",Object(a.b)("inlineCode",{parentName:"p"},"sudo apt-get install google-cloud-sdk")),Object(a.b)("h4",{id:"deployment"},"Deployment"),Object(a.b)("p",null,"Use ",Object(a.b)("inlineCode",{parentName:"p"},"git clone https://github.com/ics-software-engineering/meteor-application-template.git")," to clone the Meteor Application Template from Github. Change into the app directory."),Object(a.b)("p",null,"Use ",Object(a.b)("inlineCode",{parentName:"p"},"gcloud init")," to create the deploy directory with the necessary files for deployment."),Object(a.b)("p",null,"Use ",Object(a.b)("inlineCode",{parentName:"p"},"gcloud app create")," to start the app and pick the region closest to you."),Object(a.b)("p",null,"Change into the deploy directory and edit the ",Object(a.b)("inlineCode",{parentName:"p"},"settings.json")," file. Change the project name to the project id of the project you created earlier on your cloud console. Edit the ",Object(a.b)("inlineCode",{parentName:"p"},"app.yml")," file and change the service to ",Object(a.b)("inlineCode",{parentName:"p"},"default"),"."),Object(a.b)("p",null,"(Image to be added)"),Object(a.b)("p",null,"Deploy using ",Object(a.b)("inlineCode",{parentName:"p"},"meteor-google-cloud --settings deploy/settings.json --app deploy/app.yml --docker deploy/Dockerfile")),Object(a.b)("h4",{id:"potential-problems"},"Potential Problems"),Object(a.b)("p",null,"During my personal attempt of deployment, it was lacking a few things. I used ",Object(a.b)("inlineCode",{parentName:"p"},"meteor npm install --save @babel/runtime simpl-schema uniforms-bridge-simple-schema-2 moment lodash faker react react-dom react-redux connected-react-router react-router-dom react-router semantic-ui-react react-scroll-up-button react-slick slick-carousel react-markdown uniforms-semantic classnames uniforms sweetalert2 react-datepicker highcharts highcharts-react-official react-beautiful-dnd redux react-content-loader history")," and ",Object(a.b)("inlineCode",{parentName:"p"},"meteor npm install --save simpl-schema moment lodash faker")," to obtain all the things I was missing. "),Object(a.b)("p",null,"During the final stages of deployment, I ran into a MongoNetworkError and the APP_CONTAINER_CRASHED. According to the official ",Object(a.b)("a",Object(n.a)({parentName:"p"},{href:"https://docs.meteor.com/api/collections.html#mongo_connection_options"}),"documentation"),", this is a known bug that is currently being fixed. I tried the bypasses suggested, though neither has worked for me. Currently searching for a solution."),Object(a.b)("h2",{id:"evaluation"},"Evaluation"),Object(a.b)("p",null,"Please provide information about problems that occurred. Costs of service. Performance. Quality of documentation. Anything else that would be of use in deciding whether or not to choose this service over others."))}p.isMDXComponent=!0},172:function(e,t,o){"use strict";o.d(t,"a",(function(){return d})),o.d(t,"b",(function(){return m}));var n=o(0),r=o.n(n);function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function i(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function l(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach((function(t){a(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function c(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var s=r.a.createContext({}),p=function(e){var t=r.a.useContext(s),o=t;return e&&(o="function"==typeof e?e(t):l({},t,{},e)),o},d=function(e){var t=p(e.components);return r.a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},b=Object(n.forwardRef)((function(e,t){var o=e.components,n=e.mdxType,a=e.originalType,i=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),d=p(o),b=n,m=d["".concat(i,".").concat(b)]||d[b]||u[b]||a;return o?r.a.createElement(m,l({ref:t},s,{components:o})):r.a.createElement(m,l({ref:t},s))}));function m(e,t){var o=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var a=o.length,i=new Array(a);i[0]=b;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:n,i[1]=l;for(var s=2;s<a;s++)i[s]=o[s];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,o)}b.displayName="MDXCreateElement"}}]);