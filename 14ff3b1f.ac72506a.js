(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{100:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return c})),n.d(t,"default",(function(){return d}));var r=n(1),a=n(6),o=(n(0),n(149)),s={title:"End-to-End Testing",sidebar_label:"e2e Testing"},i={id:"radgrad2/developer/e2e-testing",title:"End-to-End Testing",description:"In RadGrad2 we are using [TestCafe](https://devexpress.github.io/testcafe/) a node.js tool to automate end-to-end web testing. We added `testcafe` as a dev dependency in the [package.json](https://github.com/radgrad/radgrad2/blob/master/app/package.json#L114) file.",source:"@site/docs/radgrad2/developer/e2e-testing.md",permalink:"/docs/radgrad2/developer/e2e-testing",sidebar_label:"e2e Testing",sidebar:"someSidebar",previous:{title:"Testing",permalink:"/docs/radgrad2/developer/testing"},next:{title:"Understanding RadGrad Academic Plans",permalink:"/docs/radgrad2/developer/building-academic-plans"}},c=[{value:"Identifying UI &#39;components&#39;",id:"identifying-ui-components",children:[]},{value:"Writing TestCafe tests",id:"writing-testcafe-tests",children:[]},{value:"Run RadGrad2 with known database",id:"run-radgrad2-with-known-database",children:[]}],l={rightToc:c};function d(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(o.b)("wrapper",Object(r.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"In RadGrad2 we are using ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://devexpress.github.io/testcafe/"}),"TestCafe")," a node.js tool to automate end-to-end web testing. We added ",Object(o.b)("inlineCode",{parentName:"p"},"testcafe")," as a dev dependency in the ",Object(o.b)("a",Object(r.a)({parentName:"p"},{href:"https://github.com/radgrad/radgrad2/blob/master/app/package.json#L114"}),"package.json")," file."),Object(o.b)("h2",{id:"identifying-ui-components"},"Identifying UI 'components'"),Object(o.b)("p",null,"To test the RadGrad2 app we need to be able to select the UI components. We've created ids for each of the components we want to test. We define and export the ids so there aren't typo errors. The exported ids are in a typescript file named ",Object(o.b)("inlineCode",{parentName:"p"},"e2e-names.ts"),". The directory structure will look like:"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{}),"app/\n   ui/\n     components/\n               admin/\n                    e2e-names.ts\n                    e2e-selectors.ts\n               advisor/\n                      e2e-names.ts\n                      e2e-selectors.ts\n               faculty/\n                      e2e-names.ts\n                      e2e-selectors.ts\n               mentor/\n                     e2e-names.ts\n                     e2e-selectors.ts\n               shared/\n                     e2e-names.ts\n                     e2e-selectors.ts\n               student/\n                      e2e-names.ts\n                      e2e-selectors.ts\n     pages/\n          admin/\n               e2e-names.ts\n               e2e-selectors.ts\n          advisor/\n                 e2e-names.ts\n                 e2e-selectors.ts\n          faculty/\n                 e2e-names.ts\n                 e2e-selectors.ts\n          mentor/\n                e2e-names.ts\n                e2e-selectors.ts\n          shared/\n                e2e-names.ts\n                e2e-selectors.ts\n          student/\n                 e2e-names.ts\n                 e2e-selectors.ts\n")),Object(o.b)("p",null," For example:"),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-tsx"}),"// In ui/components/shared/e2e-names.ts\nexport const helpPanelWidget = 'helpPanelWidget';\n...\n\n// In HelpPanelWidget.tsx\n...\n  return (helpMessage) ? (\n    <Grid.Column id={`${helpPanelWidget}`}>\n...\n")),Object(o.b)("p",null,"Now we have a way of accessing the ",Object(o.b)("inlineCode",{parentName:"p"},"HelpPanelWidget")," using TestCafe selectors. For example, we defined two ",Object(o.b)("inlineCode",{parentName:"p"},"HelpPanelWidget")," selectors."),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"One for the title, so we can check for correct titles."),Object(o.b)("li",{parentName:"ul"},"Two for the accordion, so we can open it and check for correct contents, then close it.")),Object(o.b)("p",null,"These selectors are exported from a file named ",Object(o.b)("inlineCode",{parentName:"p"},"e2e-selectors.ts"),"."),Object(o.b)("pre",null,Object(o.b)("code",Object(r.a)({parentName:"pre"},{className:"language-ts"}),"// In ui/components/shared/e2e-selectors.ts\nimport { helpPanelWidget } from './e2e-names';\n...\nexport const helpTitleSelector = Selector(`#${helpPanelWidget} .ui.floating.info.message .title`);\nexport const helpAccordionSelector = Selector(`#${helpPanelWidget} .ui.floating.info.message`).child('.accordion');\n")),Object(o.b)("p",null,"Currently, we don't have end-to-end tests for all the pages, widgets, and components. Hopefully, we will continue to write the missing end-to-end tests."),Object(o.b)("h2",{id:"writing-testcafe-tests"},"Writing TestCafe tests"),Object(o.b)("h2",{id:"run-radgrad2-with-known-database"},"Run RadGrad2 with known database"))}d.isMDXComponent=!0},149:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));var r=n(0),a=n.n(r);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=a.a.createContext({}),d=function(e){var t=a.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i({},t,{},e)),n},p=function(e){var t=d(e.components);return a.a.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},b=Object(r.forwardRef)((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),p=d(n),b=r,m=p["".concat(s,".").concat(b)]||p[b]||u[b]||o;return n?a.a.createElement(m,i({ref:t},l,{components:n})):a.a.createElement(m,i({ref:t},l))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,s=new Array(o);s[0]=b;var i={};for(var c in t)hasOwnProperty.call(t,c)&&(i[c]=t[c]);i.originalType=e,i.mdxType="string"==typeof e?e:r,s[1]=i;for(var l=2;l<o;l++)s[l]=n[l];return a.a.createElement.apply(null,s)}return a.a.createElement.apply(null,n)}b.displayName="MDXCreateElement"}}]);