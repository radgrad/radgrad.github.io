<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.50">


<title data-react-helmet="true">Microsoft Azure | RadGrad 2020</title>

<meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Microsoft Azure | RadGrad 2020"><meta data-react-helmet="true" name="description" content="# Deployment Documentation"><meta data-react-helmet="true" property="og:description" content="# Deployment Documentation"><meta data-react-helmet="true" property="og:url" content="https://radgrad.github.io/docs/devops/deployment/microsoft-azure">

<link data-react-helmet="true" rel="shortcut icon" href="/img/radgrad.ico">


<link rel="stylesheet" href="/styles.f2d7aa96.css">


<link rel="preload" href="/styles.44366390.js" as="script">

<link rel="preload" href="/runtime~main.da4e0358.js" as="script">

<link rel="preload" href="/main.16645703.js" as="script">

<link rel="preload" href="/1.8a061b0a.js" as="script">

<link rel="preload" href="/2.d8fcac2f.js" as="script">

<link rel="preload" href="/3.c37e33fc.js" as="script">

<link rel="preload" href="/1be78505.a654ae9c.js" as="script">

<link rel="preload" href="/20ac7829.6dc56f5e.js" as="script">

<link rel="preload" href="/17896441.09fe5d13.js" as="script">

<link rel="preload" href="/e7a77967.3bb612f4.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/img/radgrad_logo.png" alt="RadGrad"><strong class="navbar__title">RadGrad</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/overview/motivation">Docs</a><a class="navbar__item navbar__link" href="/blog">News</a><a target="_blank" rel="noopener noreferrer" href="https://github.com/radgrad/" class="navbar__item navbar__link">GitHub</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/img/radgrad_logo.png" alt="RadGrad"><strong class="navbar__title">RadGrad</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/overview/motivation">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">News</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://github.com/radgrad/" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Overview</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/overview/motivation">Motivation</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/overview/managing-this-site">Managing this site</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/overview/engineering-standards">Engineering Standards</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/overview/remote-pair-programming">Remote Pair Programming</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/overview/markdown-reference">Markdown Guide</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/overview/mdx">Using JSX/Markdown</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">DevOps</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/devops/goals">Goals</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/devops/resources">Resources</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/devops/evaluation">Evaluation</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Deployment</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/devops/deployment/meteor-hero">Meteor Hero</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/devops/deployment/nodechef">NodeChef</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/devops/deployment/digital-ocean">Digital Ocean</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/devops/deployment/google-cloud">Google Cloud</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/devops/deployment/microsoft-azure">Microsoft Azure</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/devops/deployment/uh-its">UH ITS</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/devops/deployment/aws">AWS</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/devops/deployment/waves-hosting">Waves Hosting</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">InternBit</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/internbit/goals">Goals</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/internbit/resources">Resources</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/internbit/scraping">Scraping</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/internbit/needs-assessment">InternBit Needs Assessment</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/internbit/canonical-schema">Canonical Schema</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/internbit/evaluation">Evaluation</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">CSExplore</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/csexplore/goals">Goals</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/csexplore/resources">Resources</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/csexplore/organizing-principle">Organizing Principles</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/csexplore/evaluation">Evaluation</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Mockups</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/csexplore/annotated-mockup/save-hawaii-with-computer-science">Save Hawaii with CS</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/csexplore/annotated-mockup/csexplore-ocean-earth">CSExplore Ocean and Earth</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/csexplore/annotated-mockup/find-the-path">Find the Path to CS</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/csexplore/annotated-mockup/CS-Explore-Chat">CS Explore Chat</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/csexplore/annotated-mockup/build-your-community">Build Your Community</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">RadGrad2</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/radgrad2/goals">Goals</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/radgrad2/evaluation">Evaluation</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Developer Guide</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/radgrad2/developer/installation">Installation</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/radgrad2/developer/ide">IDE Setup</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/radgrad2/developer/source-code-organization">Source code organization</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/radgrad2/developer/coding-standards">Coding Standards</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/radgrad2/developer/testing">Testing</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/radgrad2/developer/e2e-testing">e2e Testing</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/radgrad2/developer/testing-with-different-roles">Testing With Different Roles</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/radgrad2/developer/building-academic-plans">Academic Plans</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/radgrad2/developer/database-fixtures">Database Fixtures</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/radgrad2/developer/continuous-integration">Continuous Integration</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/radgrad2/developer/radgrad.org">radgrad.org</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Data Model</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/radgrad2/datamodel/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/radgrad2/datamodel/class-hierarchy">Class Hierarchy</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/radgrad2/datamodel/entity-relationship-model">Entity-Relationship Model</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/radgrad2/datamodel/user-management">User Management</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/radgrad2/datamodel/ice">ICE (Innovation, Competency, Experience)</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/radgrad2/datamodel/dump-restore">Database Dump-Restore</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/radgrad2/datamodel/pub-sub">Pub-Sub Caching</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/radgrad2/datamodel/integrity-checking">Integrity Checking</a></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Microsoft Azure</h1></header><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="deployment-documentation"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#deployment-documentation" title="Direct link to heading">#</a>Deployment Documentation</h1><p>To best document how to deploy a Meteor application to Microsoft Azure, we provide the <a href="https://github.com/meteor-example-deploy-azure">meteor-example-deploy-azure</a> github repository.  This repository is a copy of <a href="https://github.com/ics-software-engineering/meteor-application-template-react">meteor-application-template-react</a>, modified with one additional file (config/settings.production.sample.json) to support deployment to Azure. It will also install the meteor-azure library.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="install-meteor-example-deploy-azure"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#install-meteor-example-deploy-azure" title="Direct link to heading">#</a>Install meteor-example-deploy-azure</h2><p>First, make sure that you can install and run meteor-example-deploy-azure on your local computer.  Clone the repository, and follow the instructions in the README to install third party libraries (<code>meteor npm install</code>) and run the system (<code>meteor npm run start</code>).</p><p>You should be able to see your application running at http://localhost:3000 when this step is completed.</p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="create-a-microsoft-azure-account"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#create-a-microsoft-azure-account" title="Direct link to heading">#</a>Create a Microsoft Azure account</h1><p>First, <a href="https://azure.microsoft.com/en-us/free/students/">create a free Microsoft Azure account</a>.</p><p>Sign up. Get the free trial/student trial. Go to the portal if you are not there already. Button should be in the top right corner. We will start a new App Service.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="create-a-new-app-service"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#create-a-new-app-service" title="Direct link to heading">#</a>Create a new App Service</h2><p>Go to the Side bar &gt; App Services, then click Add.</p><p>   <img src="/img/devopsimages/WebAppStart.png"></p><p>Here are some field settings:</p><ul><li><p>Name: Provide a name.</p></li><li><p>Resource Group: You will want to create a new resource group. This will hold a group of resources together (e.g. a database, or app services) for easier management. Note that you can reuse this group in the future.</p></li><li><p>Publish: Code</p></li><li><p>Runtime Stack: Node 12 LTS</p></li><li><p>Region: West US</p></li></ul><p>The App Service plan designates how much resources Azure makes available for you to use. This costs money. Change your cost by selecting &quot;Create new&quot; when selecting a plan, and then click &quot;Change size&quot; for your &quot;Sku and size&quot;.</p><ul><li><p>Sku and size: <strong>IMPORTANT.</strong> Select the one you need. Default will be a production plan with a going rate of \$75/month, but if you have the free trial it doesn&#x27;t matter.  There is a free developer version, but I have found it inadequate in terms of space for the meteor template. If you wish to select it, click &quot;Change size &gt; Dev/Test tab &gt; Select &quot;F1&quot;.</p><p><img src="/img/devopsimages/AppServicePlan.png"></p></li></ul><p>Click &quot;Review + Create&quot; at the bottom of the page Verify your info. Click &quot;Create&quot;. You should be rerouted to a page that says &quot;Deployment is underway&quot;, and eventually will complete.</p><p>  <img src="/img/devopsimages/reviewAppService.png"></p><p>Go to Sidebar &gt; Overview &gt; Your URL will be in the right column in the form of yourappname.azurewebsites.net</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="configure-a-mongodb-database"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#configure-a-mongodb-database" title="Direct link to heading">#</a>Configure a MongoDB database</h2><p><a href="https://azure.microsoft.com/en-us/services/cosmos-db/#overview">Azure Cosmo DB</a> provides a version of MongoDB compatible with Meteor.</p><p>First, set up a Azure Cosmos DB account <a href="https://docs.microsoft.com/en-us/azure/cosmos-db/create-cosmosdb-resources-portal">here</a>.</p><p>To set up Cosmos DB:</p><ul><li><p>Click &quot;+ Add&quot; button</p></li><li><p>Select your subscription and resource group</p><ul><li>Select the resource group you used to create your app</li></ul></li><li><p>Create an account name</p></li><li><p>Select the API.</p><ul><li>From the drop down menu, select Azure CosmoDB for MongoDP API</li></ul></li><li><p>Notebooks(Preview): Off</p></li><li><p>Location: US West</p></li><li><p>Apply Free Tier Discount: Apply if you are eligible for it. Should be eligible if it is your first time making an account</p></li><li><p>Account type: Non-Production.</p></li><li><p>Version: 3.6</p></li><li><p>Geo-Redundancy: Disable</p></li><li><p>Multi-region Writes: Disable</p></li><li><p>Click &quot;Review and Create&quot; Review your information and create. Azure will take ~10 minutes to deploy.</p><p><img src="/img/devopsimages/CreateCosmo1.png">
<img src="/img/devopsimages/CreateCosmo2.png">
<img src="/img/devopsimages/CosmoReview.png"></p></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="configure-the-application"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#configure-the-application" title="Direct link to heading">#</a>Configure the application</h2><p>Here, we will get out App ready for deployment on the Azure portal. Through App Service, navigate to:</p><ul><li>Sidebar &gt; Configuration &gt; Application Settings (should take you here by default).</li></ul><ul><li><p>Clear off any existing entries in the application settings. This can easily be done by selecting &quot;Advanced edit&quot; and clearing everything between these [ ] top level brackets.
<img src="/img/devopsimages/AppSettings.png"></p></li><li><p>Click on the General Settings tab. Ensure “Web sockets” and “ARR affinity” are enabled.</p><p><img src="/img/devopsimages/WebSockets.png"></p></li></ul><p>Next, go to:</p><ul><li><p>Sidebar &gt; Deployment Center &gt; FTP and click the &quot;Dashboard&quot; button at the bottom &gt; User Credentials</p><ul><li>Make a username in the form of yourappname\yourusername, along with a password (there are some password characters that are <a href="https://stackoverflow.com/questions/62601319/microsoft-azure-cannot-satisfy-password-requirements-when-making-ftp-user-cred">not accepted</a>.)</li></ul><p><img src="/img/devopsimages/FTPcreds.png"></p></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="configure-settingsproductionjson"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#configure-settingsproductionjson" title="Direct link to heading">#</a>Configure settings.production.json</h2><p>The config directory contains a file called settings.production.sample.json, which is a template you can use to create the settings.production.json file. The template looks like this:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;meteor-azure&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;siteName&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;app name&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;resourceGroup&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;resource group&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;subscriptionId&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;subscription ID&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;tenantId&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;tenant ID&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;deploymentCreds&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;username&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;username&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;password&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;password&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;envVariables&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ROOT_URL&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;https://&lt;app name&gt;.azurewebsites.net&quot;</span><span class="token plain">,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;MONGO_URL&quot;</span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;MongoDB URL&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  // </span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">. keys </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> Meteor.settings</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><p>Copy the contents of <code>settings.production.sample.json</code> over <code>settings.development.json</code>. Rename <code>settings.development.json</code> to <code>settings.production.json</code>. Then edit the fields as follows:</p><p>Sidebar &gt; Overview. Record your app name, resource group and subscription ID</p><p><img src="/img/devopsimages/gatherInfo.png"></p><p>You can find your TenantID by searching for &quot;Tenant properties&quot; in the search bar at the top of the page</p><p>Enter your FTP user credentials.</p><p>Edit your ROOT_URL with your app name.</p><p>MONGO_URL:</p><ul><li>Click the Microsoft Azure button next to the hamburger in the top left to go to the Homepage</li><li>Select your Azure Cosmo DB account</li><li>Sidebar &gt; Quickstart &gt; Select Node.js tab<ul><li>Scroll down to &quot;Using the Node.js 3.0 driver, connect your existing MongoDB app&quot;</li><li>Our MONGO_URL is the PRIMARY CONNECTION STRING.</li></ul></li></ul><p><img src="/img/devopsimages/connString.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="deploy-the-meteor-app-to-azure"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#deploy-the-meteor-app-to-azure" title="Direct link to heading">#</a>Deploy the meteor app to Azure</h2><p>Navigate to the project directory on your local machine and run:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">meteor </span><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> run deploy</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">info:    Targetting </span><span class="token number" style="color:rgb(247, 140, 108)">64</span><span class="token plain">-bit Node architecture</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">info:    Validating settings </span><span class="token function" style="color:rgb(130, 170, 255)">file</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">G:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain">GitFolder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain">azure-deploy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain">config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain">settings.production.json</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">info:    Validating Kudu connection </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">G:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain">GitFolder</span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain">azure-deploy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain">config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain">settings.production.json</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">info:    meteortestdeploy: Authenticating with interactive login</span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">To sign in, use a web browser to </span><span class="token function" style="color:rgb(130, 170, 255)">open</span><span class="token plain"> the page https://microsoft.com/devicelogin and enter the code FM3DXB253 to authenticate.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">info:    meteortestdeploy: Updating Azure application settings</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">info:    Compiling application bundle</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">WARNING: The output directory is under your </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">source</span><span class="token plain"> tree.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         Your generated files may get interpreted as </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">source</span><span class="token plain"> code</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         Consider building into a different directory instead</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">         meteor build </span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">/output</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">app/node_modules/semantic-ui-css/semantic.css: warn: There are some @import rules </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> the middle of a file. This might be a bug, as imports are only valid at the beginning of a file.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Browserslist: caniuse-lite is outdated. Please run next </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">command</span><span class="token plain"> </span><span class="token variable" style="color:rgb(191, 199, 213)">`</span><span class="token variable function" style="color:rgb(130, 170, 255)">npm</span><span class="token variable" style="color:rgb(191, 199, 213)"> update</span><span class="token variable" style="color:rgb(191, 199, 213)">`</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Unable to resolve some modules:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;@babel/runtime/helpers/createSuper&quot;</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">/G/GitFolder/azure-deploy/app/imports/ui/layouts/App.jsx</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">web.browser.legacy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">If you notice problems related to these missing modules, consider running:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  meteor </span><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> --save @babel/runtime</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">warn:    Using default web config</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">info:    meteortestdeploy: Deploying bundle tarball</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">info:    meteortestdeploy: Running server initialisation</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">info:    meteortestdeploy: Polling server status</span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">info:    meteortestdeploy: Finished successfully</span></div></div></div></div></div><p>Your project should now be live at <a href="https://yourappname.azurewebsites.net">https://yourappname.azurewebsites.net</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="troubleshooting"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#troubleshooting" title="Direct link to heading">#</a>Troubleshooting</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="debug-mode"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#debug-mode" title="Direct link to heading">#</a>Debug mode</h3><p>If you are having trouble, debug mode might be insightful. Turn it on with.</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">meteor-azure -debug</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="error-could-not-read-settings-file-at-your-file-here"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#error-could-not-read-settings-file-at-your-file-here" title="Direct link to heading">#</a>error: Could not read settings file at &#x27;your file here&#x27;</h3><p>In the package.json there is a script <code>&quot;deploy&quot;: &quot;meteor-azure --settings config/settings.production.json --architecture 64&quot;</code> That deploys your application to Azure
Changing the <code>--settings config/settings.production.json</code> to include the full path instead of the relative one might solve this problem. For example, the following may work.</p><p><code>--settings C:\path\to\meteor-example-deploy-azure\config\settings.production.sample.json</code> </p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="kudu"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#kudu" title="Direct link to heading">#</a>Kudu</h3><p>It is easy to troubleshoot with kudu. You can access the app&#x27;s server anytime by adding &quot;.scm&quot; into the url.</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">https://meteortestdeploy.scm.azurewebsites.net</span></div></div></div></div></div></div></article><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/devops/deployment/google-cloud"><div class="pagination-nav__link--sublabel">Previous</div><div class="pagination-nav__link--label">« Google Cloud</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/devops/deployment/uh-its"><div class="pagination-nav__link--sublabel">Next</div><div class="pagination-nav__link--label">UH ITS »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#install-meteor-example-deploy-azure" class="contents__link">Install meteor-example-deploy-azure</a></li><li><a href="#create-a-new-app-service" class="contents__link">Create a new App Service</a></li><li><a href="#configure-a-mongodb-database" class="contents__link">Configure a MongoDB database</a></li><li><a href="#configure-the-application" class="contents__link">Configure the application</a></li><li><a href="#configure-settingsproductionjson" class="contents__link">Configure settings.production.json</a></li><li><a href="#deploy-the-meteor-app-to-azure" class="contents__link">Deploy the meteor app to Azure</a></li><li><a href="#troubleshooting" class="contents__link">Troubleshooting</a><ul><li><a href="#debug-mode" class="contents__link">Debug mode</a></li><li><a href="#error-could-not-read-settings-file-at-your-file-here" class="contents__link">error: Could not read settings file at &#39;your file here&#39;</a></li><li><a href="#kudu" class="contents__link">Kudu</a></li></ul></li></ul></div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/markdown-reference">Markdown Guide</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://radgrad2.slack.com">Slack</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">News</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://github.com/radgrad/">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright © 2020 University of Hawaii.</div></div></div></footer>
</div>

<script src="/styles.44366390.js"></script>

<script src="/runtime~main.da4e0358.js"></script>

<script src="/main.16645703.js"></script>

<script src="/1.8a061b0a.js"></script>

<script src="/2.d8fcac2f.js"></script>

<script src="/3.c37e33fc.js"></script>

<script src="/1be78505.a654ae9c.js"></script>

<script src="/20ac7829.6dc56f5e.js"></script>

<script src="/17896441.09fe5d13.js"></script>

<script src="/e7a77967.3bb612f4.js"></script>


</body>
</html>