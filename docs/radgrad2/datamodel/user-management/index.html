<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.50">


<title data-react-helmet="true">User Management | RadGrad 2020</title>

<meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="User Management | RadGrad 2020"><meta data-react-helmet="true" name="description" content="RadGrad implements a user management scheme that combines two constructs: the Meteor User collection as well as a set of &quot;Profile&quot; collections that provide the specific information required for the role associated with a user. See the [Users and Profiles](entity-relationship-model.html#users) section for more information on the representation of users and profiles."><meta data-react-helmet="true" property="og:description" content="RadGrad implements a user management scheme that combines two constructs: the Meteor User collection as well as a set of &quot;Profile&quot; collections that provide the specific information required for the role associated with a user. See the [Users and Profiles](entity-relationship-model.html#users) section for more information on the representation of users and profiles."><meta data-react-helmet="true" property="og:url" content="https://radgrad.github.io/docs/radgrad2/datamodel/user-management">

<link data-react-helmet="true" rel="shortcut icon" href="/img/radgrad.ico">


<link rel="stylesheet" href="/styles.f2d7aa96.css">


<link rel="preload" href="/styles.c2ab3c13.js" as="script">

<link rel="preload" href="/runtime~main.3e876e3d.js" as="script">

<link rel="preload" href="/main.717a022b.js" as="script">

<link rel="preload" href="/1.1bea99c6.js" as="script">

<link rel="preload" href="/2.0bb0f9d0.js" as="script">

<link rel="preload" href="/3.35cab0a8.js" as="script">

<link rel="preload" href="/1be78505.758c2863.js" as="script">

<link rel="preload" href="/20ac7829.6bbd5766.js" as="script">

<link rel="preload" href="/17896441.ba081d20.js" as="script">

<link rel="preload" href="/c57808ca.a7b1eefc.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/img/radgrad_logo.png" alt="RadGrad"><strong class="navbar__title">RadGrad</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/overview/motivation">Docs</a><a class="navbar__item navbar__link" href="/blog">News</a><a target="_blank" rel="noopener noreferrer" href="https://github.com/radgrad/" class="navbar__item navbar__link">GitHub</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/img/radgrad_logo.png" alt="RadGrad"><strong class="navbar__title">RadGrad</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/overview/motivation">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">News</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://github.com/radgrad/" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Overview</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/overview/motivation">Motivation</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/overview/managing-this-site">Managing this site</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/overview/engineering-standards">Engineering Standards</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/overview/remote-pair-programming">Remote Pair Programming</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/overview/markdown-reference">Markdown Guide</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/overview/mdx">Using JSX/Markdown</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">DevOps</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/devops/goals">Goals</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/devops/resources">Resources</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Deployment</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/devops/deployment/meteor-hero">Meteor Hero</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/devops/deployment/nodechef">NodeChef</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/devops/deployment/digital-ocean">Digital Ocean</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/devops/deployment/google-cloud">Google Cloud</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/devops/deployment/microsoft-azure">Microsoft Azure</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/devops/deployment/uh-its">UH ITS</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/devops/deployment/aws">AWS</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/devops/deployment/waves-hosting">Waves Hosting</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">InternBit</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/internbit/goals">Goals</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/internbit/resources">Resources</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/internbit/scraping">Scraping</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/internbit/needs-assessment">InternBit Needs Assessment</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">CSExplore</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/csexplore/goals">Goals</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/csexplore/resources">Resources</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/csexplore/organizing-principle">Organizing Principles</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Mockups</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/csexplore/annotated-mockup/save-hawaii-with-computer-science">Save Hawaii with CS</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/csexplore/annotated-mockup/csexplore-ocean-earth">CSExplore Ocean and Earth</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/csexplore/annotated-mockup/find-the-path">Find the Path to CS</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/csexplore/annotated-mockup/CS-Explore-Chat">CS Explore Chat</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/csexplore/annotated-mockup/build-your-community">Build Your Community</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">RadGrad2</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/radgrad2/goals">Goals</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Developer Guide</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/radgrad2/developer/installation">Installation</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/radgrad2/developer/ide">IDE Setup</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/radgrad2/developer/source-code-organization">Source code organization</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/radgrad2/developer/coding-standards">Coding Standards</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/radgrad2/developer/testing">Testing</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/radgrad2/developer/e2e-testing">e2e Testing</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/radgrad2/developer/testing-with-different-roles">Testing With Different Roles</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/radgrad2/developer/building-academic-plans">Academic Plans</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/radgrad2/developer/database-fixtures">Database Fixtures</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/radgrad2/developer/continuous-integration">Continuous Integration</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/radgrad2/developer/radgrad.org">radgrad.org</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Data Model</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/radgrad2/datamodel/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/radgrad2/datamodel/class-hierarchy">Class Hierarchy</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/radgrad2/datamodel/entity-relationship-model">Entity-Relationship Model</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/radgrad2/datamodel/user-management">User Management</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/radgrad2/datamodel/ice">ICE (Innovation, Competency, Experience)</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/radgrad2/datamodel/dump-restore">Database Dump-Restore</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/radgrad2/datamodel/pub-sub">Pub-Sub Caching</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/radgrad2/datamodel/integrity-checking">Integrity Checking</a></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">User Management</h1></header><div class="markdown"><p>RadGrad implements a user management scheme that combines two constructs: the Meteor User collection as well as a set of &quot;Profile&quot; collections that provide the specific information required for the role associated with a user. See the <a href="entity-relationship-model.html#users">Users and Profiles</a> section for more information on the representation of users and profiles.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="usernames"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#usernames" title="Direct link to heading">#</a>Usernames</h2><p>In RadGrad, Meteor usernames are email addresses, such as &quot;<a href="mailto:radgrad@hawaii.edu">radgrad@hawaii.edu</a>&quot;. This avoids situations such as creating a username like &quot;foo&quot; for a mentor and later finding that we need to support a student with email address <a href="/docs/radgrad2/datamodel/mailto:foo@hawaii.edu.">foo@hawaii.edu.</a> </p><p>Slugs are created for each username (email address).  This is the way we guarantee that usernames are unique. Use of email addresses for users prevents certain types of collisions. For example, creating an opportunity named &quot;java&quot; and then later needing to define a student whose UH account is &quot;java&quot;. </p><p>The username is embedded in URLs, for example: <a href="http://radgrad.ics.hawaii.edu/admin/radgrad@hawaii.edu/home">http://radgrad.ics.hawaii.edu/admin/radgrad@hawaii.edu/home</a>.   </p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="authentication"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#authentication" title="Direct link to heading">#</a>Authentication</h2><p>In the current instance of RadGrad (<a href="http://radgrad.ics.hawaii.edu">http://radgrad.ics.hawaii.edu</a>), Students, Faculty, and Advisors must login through UH CAS with their @hawaii.edu account.</p><p>Mentors login through Meteor accounts. They can use a hawaii.edu or non-hawaii.edu account. If it&#x27;s a hawaii.edu account, it must not be defined in the Student, Faculty, or Advisor profiles.</p><p>The single admin account logs in through Meteor Accounts, and the username and email associated with it are provided in the settings.json file.  </p><p>As noted above, the set of usernames must be globally unique. You can&#x27;t have a student whose username is &quot;<a href="mailto:joe@hawaii.edu">joe@hawaii.edu</a>&quot; who authenticates via CAS and a mentor whose username is also &quot;<a href="mailto:joe@hawaii.edu">joe@hawaii.edu</a>&quot; who authenticates via Meteor accounts. The SlugCollection will fail when trying to define the profile for the second <a href="mailto:joe@hawaii.edu">joe@hawaii.edu</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="passwords"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#passwords" title="Direct link to heading">#</a>Passwords</h2><p>No plain-text passwords are stored in JSON data or in ProfileCollections.   </p><p>Students, Faculty, and Advisors use CAS to login, so lack of password field is no problem. </p><p>Mentors and the admin account use the Meteor accounts password reset/email mechanism. This is a bummer since each time we reload/restore the database from scratch, all of these folks will need to reset their password. Later on, it might be possible to retrieve the bcrypted version of their password, save it in the JSON, and somehow restore that upon system reload. Or we could send an auto-generated email to these users each time with a random, newly generated password.  In either case, we will need to set up email for both development and production systems to support Meteor accounts with password set/reset/recovery.</p><p>In the settings file, we provide a flag which sets the password to something simple for development purposes only.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="role-migration"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#role-migration" title="Direct link to heading">#</a>Role Migration</h2><p>There are two common forms of role migration:</p><ul><li><p>Student to Alumni.  The student profile collection will have an optional field called isAlumni. If present and truthy, then this student is an alumni and their role will be set to ROLE.ALUMNI.  For now, that means: (a) the user cannot login to RadGrad, and (b) that user will not appear in listings of students.  This just gives us a way to preserve their data while not cluttering up the social network with departed students.</p></li><li><p>Student/Alumni to Mentor.  If a student wants to become a mentor, then they need to have a different account (gmail?) which we will use to set up their profile. </p></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="email-reassignment"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#email-reassignment" title="Direct link to heading">#</a>Email reassignment</h2><p>The approach documented in this page does not currently address email reassignment. If ITS reuses an email address owned by a prior UH student to a new student, then that person can see the old person&#x27;s profile. Unless they have been made an alumni, and then they can&#x27;t login.  This is hopefully rare enough that we can deal with it on a case-by-case basis.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="referencing-user-and-profile-ids-in-the-code"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#referencing-user-and-profile-ids-in-the-code" title="Direct link to heading">#</a>Referencing user and profile IDs in the code</h2><p>In the data model as a whole, references within collection documents to users always refer to docIDs within the Meteor.users collection.  Note that the user&#x27;s email address is defined as both the account name and the email in the Meteor.users collection.</p><p>Profile docIDs are never stored as &quot;foreign keys&quot; in other collections.  </p><p>As a result, you might see fields or variables named userID, studentID, adminID, sponsorID, facultyID, etc.  None of these refer to the profile.  They always refer to either the Meteor.users docID or to the user&#x27;s account name (a.k.a. email address).</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/radgrad2/datamodel/entity-relationship-model"><div class="pagination-nav__link--sublabel">Previous</div><div class="pagination-nav__link--label">« Entity-Relationship Model</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/radgrad2/datamodel/ice"><div class="pagination-nav__link--sublabel">Next</div><div class="pagination-nav__link--label">ICE (Innovation, Competency, Experience) »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#usernames" class="contents__link">Usernames</a></li><li><a href="#authentication" class="contents__link">Authentication</a></li><li><a href="#passwords" class="contents__link">Passwords</a></li><li><a href="#role-migration" class="contents__link">Role Migration</a></li><li><a href="#email-reassignment" class="contents__link">Email reassignment</a></li><li><a href="#referencing-user-and-profile-ids-in-the-code" class="contents__link">Referencing user and profile IDs in the code</a></li></ul></div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/markdown-reference">Markdown Guide</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://radgrad2.slack.com">Slack</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">News</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://github.com/radgrad/">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright © 2020 University of Hawaii.</div></div></div></footer>
</div>

<script src="/styles.c2ab3c13.js"></script>

<script src="/runtime~main.3e876e3d.js"></script>

<script src="/main.717a022b.js"></script>

<script src="/1.1bea99c6.js"></script>

<script src="/2.0bb0f9d0.js"></script>

<script src="/3.35cab0a8.js"></script>

<script src="/1be78505.758c2863.js"></script>

<script src="/20ac7829.6bbd5766.js"></script>

<script src="/17896441.ba081d20.js"></script>

<script src="/c57808ca.a7b1eefc.js"></script>


</body>
</html>